/*! backbacon 2013-03-02 */
(function(){var _Bacon,_Backbone;"undefined"!=typeof require?(_Bacon=require("baconjs").Bacon,_Backbone=require("backbone")):(_Bacon=Bacon,_Backbone=Backbone),__slice=[].slice,next=function(value){return new _Bacon.Next(_Bacon._.always(value))},_Backbone.Model.prototype.asEventStream=function(eventName,eventTransformer){return(eventTransformer===void 0||null===eventTransformer)&&(eventTransformer=_Bacon._.id),model=this,new _Bacon.EventStream(function(sink){var handler,unbind;return handler=function(){var args,reply;return args=arguments.length>=1?__slice.call(arguments,0):[],reply=sink(next(eventTransformer.apply(null,args))),reply===_Bacon.noMore?unbind():void 0},unbind=function(){return model.off(eventName,handler)},model.on(eventName,handler),unbind})},"undefined"!=typeof module&&(module.exports=_Backbone)}).call(this);